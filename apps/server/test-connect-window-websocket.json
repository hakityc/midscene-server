{
  "description": "connectWindow WebSocket 测试消息示例",
  "examples": [
    {
      "name": "通过窗口标题连接",
      "message": {
        "meta": {
          "messageId": "msg_connect_001",
          "conversationId": "conv_001",
          "timestamp": 1672531199,
          "clientType": "windows"
        },
        "payload": {
          "action": "connectWindow",
          "params": {
            "windowTitle": "Notepad"
          }
        }
      }
    },
    {
      "name": "通过窗口 ID 连接",
      "message": {
        "meta": {
          "messageId": "msg_connect_002",
          "conversationId": "conv_001",
          "timestamp": 1672531200,
          "clientType": "windows"
        },
        "payload": {
          "action": "connectWindow",
          "params": {
            "windowId": 123456
          }
        }
      }
    },
    {
      "name": "优先使用 ID，备用标题",
      "message": {
        "meta": {
          "messageId": "msg_connect_003",
          "conversationId": "conv_001",
          "timestamp": 1672531201,
          "clientType": "windows"
        },
        "payload": {
          "action": "connectWindow",
          "params": {
            "windowId": 123456,
            "windowTitle": "Calculator"
          }
        }
      }
    }
  ],
  "expectedResponses": {
    "success": {
      "meta": {
        "messageId": "msg_connect_001",
        "conversationId": "conv_001",
        "timestamp": 1672531202
      },
      "payload": {
        "action": "connectWindow",
        "status": "success",
        "result": "已成功连接到窗口: \"Untitled - Notepad\" (ID: 123456)",
        "data": {
          "id": 123456,
          "title": "Untitled - Notepad",
          "width": 800,
          "height": 600
        }
      }
    },
    "error_no_params": {
      "meta": {
        "messageId": "msg_connect_004",
        "conversationId": "conv_001",
        "timestamp": 1672531203
      },
      "payload": {
        "action": "connectWindow",
        "status": "failed",
        "error": "必须提供 windowId 或 windowTitle 参数"
      }
    },
    "error_not_found": {
      "meta": {
        "messageId": "msg_connect_005",
        "conversationId": "conv_001",
        "timestamp": 1672531204
      },
      "payload": {
        "action": "connectWindow",
        "status": "failed",
        "error": "未找到匹配的窗口 (标题: \"NonExistentWindow\")"
      }
    }
  },
  "usage": {
    "description": "使用说明",
    "steps": [
      "1. 启动 Windows 服务端",
      "2. 建立 WebSocket 连接",
      "3. 发送上述任一示例消息",
      "4. 等待服务端响应",
      "5. 后续所有截图将自动使用连接的窗口"
    ],
    "notes": [
      "- windowId 优先于 windowTitle",
      "- windowTitle 支持模糊匹配（不区分大小写）",
      "- 可以多次调用 connectWindow 来切换窗口",
      "- 使用 disconnectWindow（需单独实现）来恢复全屏模式"
    ]
  }
}
