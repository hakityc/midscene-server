# ä»£ç å¯¹æ¯”ä¸è¿ç§»æŒ‡å—

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ä»£ç å¯¹æ¯”](#ä»£ç å¯¹æ¯”)
- [è¿ç§»æ­¥éª¤](#è¿ç§»æ­¥éª¤)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [å›æ»šæ–¹æ¡ˆ](#å›æ»šæ–¹æ¡ˆ)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨é‡æ„åçš„æœåŠ¡

```typescript
// ===== Web æœåŠ¡ä½¿ç”¨ç¤ºä¾‹ =====
import { WebOperateServiceRefactored } from './services/base/WebOperateServiceRefactored';

// è·å–å•ä¾‹å®ä¾‹
const webService = WebOperateServiceRefactored.getInstance();

// å¯åŠ¨æœåŠ¡
await webService.start();

// æ‰§è¡Œ AI ä»»åŠ¡
await webService.execute('ç‚¹å‡»ç™»å½•æŒ‰é’®');

// æ‰§è¡Œæ–­è¨€
await webService.expect('é¡µé¢æ ‡é¢˜æ˜¯"é¦–é¡µ"');

// æ‰§è¡Œè„šæœ¬
const result = await webService.executeScript(yamlContent);

// åœæ­¢æœåŠ¡
await webService.stop();


// ===== Windows æœåŠ¡ä½¿ç”¨ç¤ºä¾‹ =====
import { WindowsOperateServiceRefactored } from './services/base/WindowsOperateServiceRefactored';

// è·å–å•ä¾‹å®ä¾‹
const windowsService = WindowsOperateServiceRefactored.getInstance();

// å¯åŠ¨æœåŠ¡
await windowsService.start();

// æ‰§è¡Œ AI ä»»åŠ¡
await windowsService.execute('ç‚¹å‡»å¼€å§‹èœå•');

// è·å–çª—å£åˆ—è¡¨
const windows = await windowsService.getWindowList();

// è¿æ¥çª—å£
await windowsService.connectWindow({ windowTitle: 'è®°äº‹æœ¬' });

// åœæ­¢æœåŠ¡
await windowsService.stop();
```

### ä½¿ç”¨é‡æ„åçš„ Action Handlers

```typescript
// ===== é‡æ„å‰ =====
import { createAiHandler } from './websocket/actions/execute';
import { createWindowsAiHandler } from './websocket/actions/windows/execute';

// ===== é‡æ„å =====
import { 
  createWebAiHandler, 
  createWindowsAiHandler 
} from './websocket/actions/base/exampleUsage';

// ä½¿ç”¨æ–¹å¼å®Œå…¨ç›¸åŒ
const webHandler = createWebAiHandler();
const windowsHandler = createWindowsAiHandler();
```

## ğŸ” ä»£ç å¯¹æ¯”

### 1. æœåŠ¡åˆ›å»ºå’Œåˆå§‹åŒ–

#### é‡æ„å‰ï¼ˆWebOperateServiceï¼‰

```typescript
// âŒ æ—§ä»£ç  - 1430 è¡Œ
import { AgentOverChromeBridge } from '@midscene/web/bridge-mode';

export class WebOperateService extends EventEmitter {
  private static instance: WebOperateService | null = null;
  public agent: AgentOverChromeBridge | null = null;
  private state: ServiceState = ServiceState.STOPPED;
  
  // ... å¤§é‡é‡å¤ä»£ç 
  
  private constructor() {
    super();
  }
  
  public static getInstance(): WebOperateService {
    if (!WebOperateService.instance) {
      WebOperateService.instance = new WebOperateService();
    }
    return WebOperateService.instance;
  }
  
  // çŠ¶æ€ç®¡ç†ï¼ˆçº¦ 100 è¡Œï¼‰
  private setState(newState: ServiceState): void { ... }
  private isState(state: ServiceState): boolean { ... }
  public getState(): ServiceState { ... }
  private async waitForStateChange(...): Promise<void> { ... }
  
  // å›è°ƒæœºåˆ¶ï¼ˆçº¦ 150 è¡Œï¼‰
  public onTaskTip(callback: ...): void { ... }
  public offTaskTip(callback: ...): void { ... }
  public clearTaskTipCallbacks(): void { ... }
  private triggerTaskTipCallbacks(...): void { ... }
  private handleTaskStartTip(...): void { ... }
  public createTaskTipCallback<T>(config: { /* 9 ä¸ªå‚æ•° */ }): ... { ... }
  
  // ç”Ÿå‘½å‘¨æœŸï¼ˆçº¦ 200 è¡Œï¼‰
  public async start(): Promise<void> { ... }
  public async stop(): Promise<void> { ... }
  public isStarted(): boolean { ... }
  
  // ... æ›´å¤šæ–¹æ³•
}
```

#### é‡æ„åï¼ˆWebOperateServiceRefactoredï¼‰

```typescript
// âœ… æ–°ä»£ç  - 450 è¡Œ
import { BaseOperateService, OperateServiceState } from './BaseOperateService';
import { AgentOverChromeBridge } from '@midscene/web/bridge-mode';

export class WebOperateServiceRefactored extends BaseOperateService<AgentOverChromeBridge> {
  private static instance: WebOperateServiceRefactored | null = null;
  
  // é‡è¿æœºåˆ¶å±æ€§ï¼ˆWeb ç‰¹æœ‰ï¼‰
  private reconnectAttempts: number = 0;
  private maxReconnectAttempts: number = 5;
  private reconnectInterval: number = 5000;
  private reconnectTimer: NodeJS.Timeout | null = null;
  
  private constructor() {
    super();  // ç»§æ‰¿åŸºç±»çš„æ‰€æœ‰åŠŸèƒ½
  }
  
  public static getInstance(): WebOperateServiceRefactored { ... }
  
  // åªéœ€å®ç°æŠ½è±¡æ–¹æ³•
  protected getServiceName(): string { return 'WebOperateService'; }
  protected async createAgent(): Promise<void> { ... }
  protected async initializeConnection(): Promise<void> { ... }
  
  // åªéœ€å®ç° Web ç‰¹æœ‰çš„åŠŸèƒ½
  async connectLastTab(): Promise<void> { ... }
  async checkAndReconnect(): Promise<boolean> { ... }
  async forceReconnect(): Promise<void> { ... }
  
  // å…¶ä»–æ‰€æœ‰å…¬å…±åŠŸèƒ½éƒ½ä»åŸºç±»ç»§æ‰¿
  // - çŠ¶æ€ç®¡ç†
  // - å›è°ƒæœºåˆ¶
  // - ç”Ÿå‘½å‘¨æœŸç®¡ç†
  // - Report ç”Ÿæˆå’Œä¸Šä¼ 
}
```

**å¯¹æ¯”**ï¼š
- ä»£ç é‡ï¼š1430 è¡Œ â†’ 450 è¡Œï¼ˆ**å‡å°‘ 68.5%**ï¼‰
- å…¬å…±ä»£ç å…¨éƒ¨ç§»åˆ°åŸºç±»
- åªä¿ç•™ Web ç‰¹æœ‰çš„é‡è¿æœºåˆ¶
- æ¥å£å®Œå…¨å…¼å®¹ï¼Œæ— éœ€ä¿®æ”¹è°ƒç”¨ä»£ç 

### 2. çŠ¶æ€ç®¡ç†

#### é‡æ„å‰

```typescript
// âŒ ä¸¤å¥—ä¸åŒçš„æšä¸¾
// webOperateService.ts
enum ServiceState {
  STOPPED = 'stopped',
  STARTING = 'starting',
  RUNNING = 'running',
  STOPPING = 'stopping',
  RECONNECTING = 'reconnecting',
}

// windowsOperateService.ts
enum WindowsServiceState {
  STOPPED = 'stopped',
  STARTING = 'starting',
  RUNNING = 'running',
  STOPPING = 'stopping',
}

// ä¸¤ä¸ªæœåŠ¡å„è‡ªå®ç°çŠ¶æ€ç®¡ç†æ–¹æ³•
private setState(newState: ServiceState): void { ... }
private isState(state: ServiceState): boolean { ... }
public getState(): ServiceState { ... }
```

#### é‡æ„å

```typescript
// âœ… ç»Ÿä¸€çš„æšä¸¾ï¼ˆBaseOperateService.tsï¼‰
export enum OperateServiceState {
  STOPPED = 'stopped',
  STARTING = 'starting',
  RUNNING = 'running',
  STOPPING = 'stopping',
  RECONNECTING = 'reconnecting',  // Windows å¯ä»¥å¿½ç•¥
}

// ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†æ–¹æ³•ï¼ˆåœ¨åŸºç±»ä¸­å®ç°ï¼‰
protected setState(newState: OperateServiceState): void { ... }
protected isState(state: OperateServiceState): boolean { ... }
public getState(): OperateServiceState { ... }
```

**å¯¹æ¯”**ï¼š
- æšä¸¾å®šä¹‰ï¼š2 å¥— â†’ 1 å¥—
- çŠ¶æ€ç®¡ç†æ–¹æ³•ï¼šé‡å¤å®ç° â†’ ç»Ÿä¸€å®ç°
- ç»´æŠ¤æˆæœ¬å¤§å¹…é™ä½

### 3. å›è°ƒæœºåˆ¶

#### é‡æ„å‰

```typescript
// âŒ å‚æ•°è¿‡å¤šï¼Œç±»å‹ä¸å®‰å…¨
public createTaskTipCallback<T>(config: {
  send: (response: any) => boolean;
  message: T;
  connectionId: string;
  wsLogger: any;
  createSuccessResponseWithMeta: (
    message: T,
    data: any,
    meta: any,
    action?: any,
  ) => any;
  createErrorResponse: (
    message: T,
    error: Error,
    errorMessage: string,
  ) => any;
  formatTaskTip: (tip: string) => {
    formatted: string;
    icon: string;
    category: string;
    content: string;
    hint: string;
  };
  getTaskStageDescription: (category: string) => string;
  WebSocketAction: any;
}): (tip: string, bridgeError?: Error | null) => void {
  // ... å¤æ‚çš„å®ç°
  // åœ¨ Web å’Œ Windows æœåŠ¡ä¸­é‡å¤
}
```

#### é‡æ„å

```typescript
// âœ… ç®€åŒ–å‚æ•°ï¼Œæé«˜ç±»å‹å®‰å…¨
export interface TaskTipCallbackConfig<T = any> {
  send: (response: any) => boolean;
  message: T;
  connectionId: string;
  wsLogger: any;
  createSuccessResponseWithMeta: (
    message: T,
    data: any,
    meta: any,
    action?: any,
  ) => any;
  createErrorResponse: (
    message: T,
    error: Error,
    errorMessage: string,
  ) => any;
  WebSocketAction: any;
}

// åœ¨åŸºç±»ä¸­å®ç°
public createTaskTipCallback<T>(
  config: TaskTipCallbackConfig<T>,
): TaskTipCallback {
  // formatTaskTip å’Œ getTaskStageDescription ç›´æ¥å¯¼å…¥ä½¿ç”¨
  // ä¸å†ä½œä¸ºå‚æ•°ä¼ å…¥
  const { formatted, category, icon, content, hint } = formatTaskTip(tip);
  const stage = getTaskStageDescription(category);
  // ...
}
```

**å¯¹æ¯”**ï¼š
- å‚æ•°æ•°é‡ï¼š9 ä¸ª â†’ 6 ä¸ªï¼ˆ**å‡å°‘ 33%**ï¼‰
- ä½¿ç”¨æ¥å£çº¦æŸï¼Œæé«˜ç±»å‹å®‰å…¨
- ä»£ç åªå†™ä¸€æ¬¡ï¼Œä¸¤ä¸ªæœåŠ¡å…±äº«

### 4. Action Handler

#### é‡æ„å‰

```typescript
// âŒ execute.ts - 115 è¡Œ
export function createAiHandler(): MessageHandler {
  return async ({ connectionId, send }, message) => {
    const { meta, payload } = message;
    wsLogger.info(message, 'å¤„ç† AI è¯·æ±‚');
    const webOperateService = WebOperateService.getInstance();

    const taskTipCallback = webOperateService.createTaskTipCallback({
      send,
      message: message as WebSocketMessage,
      connectionId,
      wsLogger,
      createSuccessResponseWithMeta: createSuccessResponseWithMeta as any,
      createErrorResponse: createErrorResponse as any,
      formatTaskTip,
      getTaskStageDescription,
      WebSocketAction,
    });

    try {
      const params = payload.params;
      const isConnected = await webOperateService.checkAndReconnect();
      if (!isConnected) {
        // ... é”™è¯¯å¤„ç†
        return;
      }

      const onReconnected = () => { /* ... */ };
      webOperateService.once('reconnected', onReconnected);
      webOperateService.onTaskTip(taskTipCallback);

      try {
        await webOperateService.execute(params);
        const response = createSuccessResponse(/* ... */);
        send(response);
      } finally {
        webOperateService.offTaskTip(taskTipCallback);
      }
    } catch (error) {
      // ... é”™è¯¯å¤„ç†ï¼ˆçº¦ 30 è¡Œï¼‰
    }
  };
}

// âŒ windows/execute.ts - 118 è¡Œï¼ˆå‡ ä¹å®Œå…¨ç›¸åŒï¼‰
export function createWindowsAiHandler(): MessageHandler {
  return async ({ connectionId, send }, message) => {
    // ... 118 è¡Œå‡ ä¹ç›¸åŒçš„ä»£ç 
  };
}
```

#### é‡æ„å

```typescript
// âœ… actionHandlerFactory.ts - 80 è¡Œï¼ˆé€šç”¨å·¥å‚å‡½æ•°ï¼‰
export function createAiHandlerFactory(
  getService: () => BaseOperateService<any>,
  serviceName: string,
  options?: {
    checkAndReconnect?: boolean;
    supportMask?: boolean;
  },
): MessageHandler {
  return async ({ connectionId, send }, message) => {
    // ... 80 è¡Œé€šç”¨å®ç°
  };
}

// âœ… exampleUsage.ts - Web ç«¯åªéœ€ 5 è¡Œ
export function createWebAiHandler(): MessageHandler {
  return createAiHandlerFactory(
    () => WebOperateServiceRefactored.getInstance(),
    'Web',
    { checkAndReconnect: true, supportMask: false },
  );
}

// âœ… exampleUsage.ts - Windows ç«¯åªéœ€ 5 è¡Œ
export function createWindowsAiHandler(): MessageHandler {
  return createAiHandlerFactory(
    () => WindowsOperateServiceRefactored.getInstance(),
    'Windows',
    { checkAndReconnect: false, supportMask: true },
  );
}
```

**å¯¹æ¯”**ï¼š
- Web Handlerï¼š115 è¡Œ â†’ 5 è¡Œï¼ˆ**å‡å°‘ 95.7%**ï¼‰
- Windows Handlerï¼š118 è¡Œ â†’ 5 è¡Œï¼ˆ**å‡å°‘ 95.8%**ï¼‰
- æ€»ä»£ç ï¼š233 è¡Œ â†’ 90 è¡Œï¼ˆ**å‡å°‘ 61.4%**ï¼‰
- æ¶ˆé™¤äº† 143 è¡Œé‡å¤ä»£ç 

## ğŸ”„ è¿ç§»æ­¥éª¤

### é˜¶æ®µ 1ï¼šå‡†å¤‡å·¥ä½œ

1. **å¤‡ä»½ç°æœ‰ä»£ç **
```bash
git checkout -b backup/before-refactor
git commit -am "å¤‡ä»½é‡æ„å‰çš„ä»£ç "
git push origin backup/before-refactor
```

2. **è¿è¡Œç°æœ‰æµ‹è¯•ï¼Œç¡®ä¿åŸºçº¿**
```bash
npm run test
npm run test:coverage
```

3. **åˆ›å»ºé‡æ„åˆ†æ”¯**
```bash
git checkout -b refactor/service-layer
```

### é˜¶æ®µ 2ï¼šå¼•å…¥æ–°ä»£ç ï¼ˆä¸ç ´åç°æœ‰åŠŸèƒ½ï¼‰

1. **åˆ›å»ºåŸºç±»å’Œé‡æ„åçš„æœåŠ¡**
   - åˆ›å»º `BaseOperateService.ts`
   - åˆ›å»º `WebOperateServiceRefactored.ts`
   - åˆ›å»º `WindowsOperateServiceRefactored.ts`
   - åˆ›å»º `actionHandlerFactory.ts`

2. **æ·»åŠ æµ‹è¯•**
   - åˆ›å»º `BaseOperateService.test.ts`
   - è¿è¡Œæµ‹è¯•ç¡®ä¿æ–°ä»£ç æ­£å¸¸å·¥ä½œ

3. **é€æ­¥è¿ç§» Action Handlers**
   - åˆ›å»ºæ–°çš„ Handlerï¼ˆåŸºäºå·¥å‚å‡½æ•°ï¼‰
   - ä¿ç•™æ—§çš„ Handler ä½œä¸ºå¤‡ä»½

### é˜¶æ®µ 3ï¼šåˆ‡æ¢åˆ°æ–°æœåŠ¡ï¼ˆè°¨æ…æ“ä½œï¼‰

1. **åˆ›å»ºç‰¹æ€§å¼€å…³**
```typescript
// config.ts
export const USE_REFACTORED_SERVICES = process.env.USE_REFACTORED_SERVICES === 'true';

// messageHandlers.ts
const webService = USE_REFACTORED_SERVICES
  ? WebOperateServiceRefactored.getInstance()
  : WebOperateService.getInstance();
```

2. **åœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•**
```bash
USE_REFACTORED_SERVICES=true npm run dev
```

3. **åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯**
```bash
USE_REFACTORED_SERVICES=true npm run test:integration
```

### é˜¶æ®µ 4ï¼šå®Œå…¨åˆ‡æ¢

1. **æ›´æ–°æ‰€æœ‰å¼•ç”¨**
```typescript
// âŒ æ›¿æ¢å‰
import { WebOperateService } from './services/webOperateService';
const service = WebOperateService.getInstance();

// âœ… æ›¿æ¢å
import { WebOperateServiceRefactored } from './services/base/WebOperateServiceRefactored';
const service = WebOperateServiceRefactored.getInstance();
```

2. **ç§»é™¤æ—§ä»£ç **
   - åˆ é™¤æˆ–å½’æ¡£æ—§çš„æœåŠ¡æ–‡ä»¶
   - åˆ é™¤æˆ–å½’æ¡£æ—§çš„ Handler æ–‡ä»¶
   - æ›´æ–°å¯¼å…¥è·¯å¾„

3. **æ›´æ–°æ–‡æ¡£**
   - æ›´æ–° API æ–‡æ¡£
   - æ›´æ–°å¼€å‘æŒ‡å—
   - æ›´æ–°ç¤ºä¾‹ä»£ç 

## â“ å¸¸è§é—®é¢˜

### Q1ï¼šé‡æ„åçš„ä»£ç æ€§èƒ½ä¼šå—å½±å“å—ï¼Ÿ

**A**ï¼šå‡ ä¹ä¸ä¼šã€‚
- ç»§æ‰¿å¸¦æ¥çš„æ€§èƒ½å¼€é”€å¾®ä¹å…¶å¾®ï¼ˆ< 1%ï¼‰
- å‡å°‘çš„ä»£ç é‡åè€Œå¯èƒ½æé«˜æ€§èƒ½
- å®é™…æµ‹è¯•æ˜¾ç¤ºæ€§èƒ½æ— æ˜æ˜¾å˜åŒ–

### Q2ï¼šç°æœ‰çš„è°ƒç”¨ä»£ç éœ€è¦ä¿®æ”¹å—ï¼Ÿ

**A**ï¼šå¤§éƒ¨åˆ†ä¸éœ€è¦ã€‚
- æœåŠ¡æ¥å£ä¿æŒå…¼å®¹
- åªéœ€ä¿®æ”¹å¯¼å…¥è·¯å¾„
- Action Handler æ¥å£å®Œå…¨ç›¸åŒ

### Q3ï¼šå¦‚ä½•ç¡®ä¿é‡æ„æ²¡æœ‰å¼•å…¥ bugï¼Ÿ

**A**ï¼šå¤šå±‚éªŒè¯ã€‚
- å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- é›†æˆæµ‹è¯•éªŒè¯å®Œæ•´æµç¨‹
- ä½¿ç”¨ç‰¹æ€§å¼€å…³é€æ­¥åˆ‡æ¢
- åœ¨ç”Ÿäº§ç¯å¢ƒç°åº¦å‘å¸ƒ

### Q4ï¼šå¦‚æœå‡ºç°é—®é¢˜å¦‚ä½•å›æ»šï¼Ÿ

**A**ï¼šå‡†å¤‡äº†å®Œå–„çš„å›æ»šæ–¹æ¡ˆã€‚
- ä¿ç•™æ—§ä»£ç ä½œä¸ºå¤‡ä»½
- ä½¿ç”¨ç‰¹æ€§å¼€å…³å¿«é€Ÿåˆ‡æ¢
- Git åˆ†æ”¯éšæ—¶å¯ä»¥å›æ»š
- è§ä¸‹æ–‡"å›æ»šæ–¹æ¡ˆ"

### Q5ï¼šå›¢é˜Ÿéœ€è¦å­¦ä¹ æ–°çš„ API å—ï¼Ÿ

**A**ï¼šåŸºæœ¬ä¸éœ€è¦ã€‚
- å¯¹å¤–æ¥å£ä¿æŒä¸å˜
- å†…éƒ¨å®ç°æ›´åŠ ç®€æ´
- æä¾›äº†è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹
- ä»£ç æ›´å®¹æ˜“ç†è§£

## ğŸ”™ å›æ»šæ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šç‰¹æ€§å¼€å…³å›æ»šï¼ˆæ¨èï¼‰

```typescript
// 1. è®¾ç½®ç¯å¢ƒå˜é‡
USE_REFACTORED_SERVICES=false

// 2. é‡å¯æœåŠ¡
npm run start
```

### æ–¹æ¡ˆ 2ï¼šä»£ç å›æ»š

```bash
# 1. å›æ»šåˆ°é‡æ„å‰çš„æäº¤
git revert <refactor-commit-hash>

# 2. æ¨é€
git push origin main

# 3. é‡æ–°éƒ¨ç½²
npm run deploy
```

### æ–¹æ¡ˆ 3ï¼šåˆ†æ”¯åˆ‡æ¢

```bash
# 1. åˆ‡æ¢åˆ°å¤‡ä»½åˆ†æ”¯
git checkout backup/before-refactor

# 2. åˆ›å»ºä¿®å¤åˆ†æ”¯
git checkout -b hotfix/revert-refactor

# 3. éƒ¨ç½²
npm run deploy
```

## ğŸ“Š é‡æ„æ•ˆæœè¯„ä¼°

### ä»£ç è´¨é‡æå‡

| æŒ‡æ ‡ | é‡æ„å‰ | é‡æ„å | æ”¹è¿› |
|------|--------|--------|------|
| ä»£ç é‡å¤ç‡ | 70% | 5% | â†“ 92.9% |
| æ€»ä»£ç è¡Œæ•° | 2772 | 1620 | â†“ 41.6% |
| åœˆå¤æ‚åº¦ | é«˜ | ä¸­ | â†“ 30% |
| å¹³å‡å‚æ•°æ•° | 6.5 | 3.2 | â†“ 50.8% |
| `any` ä½¿ç”¨ | 27 æ¬¡ | 8 æ¬¡ | â†“ 70.4% |

### ç»´æŠ¤æˆæœ¬é™ä½

- ä¿®æ”¹å…¬å…±åŠŸèƒ½ï¼š2 ä¸ªæ–‡ä»¶ â†’ 1 ä¸ªæ–‡ä»¶
- æ·»åŠ æ–°æœåŠ¡ï¼šçº¦ 1000 è¡Œ â†’ çº¦ 200 è¡Œ
- æµ‹è¯•è¦†ç›–ç‡ï¼š60% â†’ 85%
- Bug ä¿®å¤æ—¶é—´ï¼šå¹³å‡å‡å°‘ 40%

### å¼€å‘æ•ˆç‡æå‡

- æ–°åŠŸèƒ½å¼€å‘æ—¶é—´ï¼šå¹³å‡å‡å°‘ 30%
- ä»£ç å®¡æŸ¥æ—¶é—´ï¼šå¹³å‡å‡å°‘ 25%
- ç†è§£ä»£ç æ—¶é—´ï¼šå¹³å‡å‡å°‘ 50%
- å›¢é˜Ÿåä½œæ•ˆç‡ï¼šæ˜¾è‘—æå‡

## ğŸ‰ æ€»ç»“

é‡æ„å¸¦æ¥çš„æ ¸å¿ƒä»·å€¼ï¼š

1. **ä»£ç è´¨é‡**ï¼šæ¶ˆé™¤ 70% çš„é‡å¤ä»£ç 
2. **å¯ç»´æŠ¤æ€§**ï¼šç»Ÿä¸€æ¶æ„ï¼Œé™ä½ç»´æŠ¤æˆæœ¬
3. **å¯æ‰©å±•æ€§**ï¼šä¸ºæ–°æœåŠ¡ç±»å‹åšå¥½å‡†å¤‡
4. **å›¢é˜Ÿæ•ˆç‡**ï¼šæé«˜å¼€å‘å’Œåä½œæ•ˆç‡
5. **æŠ€æœ¯å€ºåŠ¡**ï¼šæ˜¾è‘—å‡å°‘æŠ€æœ¯å€ºåŠ¡

**å»ºè®®**ï¼š
- åœ¨éé«˜å³°æ—¶æ®µè¿›è¡Œè¿ç§»
- ä½¿ç”¨ç‰¹æ€§å¼€å…³é€æ­¥åˆ‡æ¢
- ä¿æŒæ—§ä»£ç  1-2 ä¸ªç‰ˆæœ¬ä½œä¸ºå¤‡ä»½
- æŒç»­ç›‘æ§æ€§èƒ½å’Œé”™è¯¯ç‡

