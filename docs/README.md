# Midscene Server 项目文档索引

> 本文档索引帮助您快速找到所需的项目文档

---

## 📚 核心文档

### ⭐ 必读文档

| 文档 | 说明 | 更新日期 |
|------|------|---------|
| [开发规范](./开发规范.md) | 完整的开发规范，包含代码风格、架构设计、测试规范等 | 2025-10-24 |
| [开发规范-快速参考](./开发规范-快速参考.md) | 常用规范速查表，快速查找关键规范 | 2025-10-24 |
| [架构重构/README](./架构重构/README.md) | 架构重构完成总结，了解项目架构演进 | 2025-10-24 |

### 📖 开发规范文档

#### [开发规范.md](./开发规范.md)

完整的开发规范文档，包含：

1. **代码风格与格式化** - Biome 配置、代码组织
2. **命名规范** - 文件、变量、函数、类的命名规则
3. **架构与设计模式** - 单例、工厂、模板方法、策略模式
4. **类型定义规范** - TypeScript 类型使用规范
5. **错误处理规范** - 错误类定义、错误处理模式
6. **日志规范** - 日志级别、结构化日志、专用 Logger
7. **WebSocket 通信规范** - 消息结构、Action 定义、Handler 实现
8. **测试规范** - 测试框架、测试组织、覆盖率目标
9. **文档规范** - 文档分类、编写时机、文档模板
10. **Git 提交规范** - 提交消息格式、Type 类型
11. **服务层开发规范** - Service 类结构、方法规范
12. **文件组织规范** - 目录结构、模块导出
13. **性能优化规范** - 异步操作、缓存策略、资源管理
14. **安全规范** - 环境变量、输入验证、日志脱敏

---

## 🏗️ 架构文档

### 架构重构系列

位于 `架构重构/` 目录：

| 文档 | 说明 | 更新日期 |
|------|------|---------|
| [README.md](./架构重构/README.md) | 架构重构完成总结，代码量对比、质量提升 | 2025-10-24 |
| [服务层重构方案.md](./架构重构/服务层重构方案.md) | 详细的服务层重构方案，设计问题分析 | 2025-10-24 |
| [代码对比与迁移指南.md](./架构重构/代码对比与迁移指南.md) | 逐步迁移指南、常见问题解答 | 2025-10-24 |
| [FlowAction配置对齐官方API.md](./架构重构/FlowAction配置对齐官方API.md) | FlowAction 配置对齐方案 | 2025-10-24 |
| [前端FlowAction配置驱动渲染.md](./架构重构/前端FlowAction配置驱动渲染.md) | 前端配置驱动渲染方案 | 2025-10-24 |

### 架构成果

- ✅ 减少 **41.6%** 代码量（1152 行）
- ✅ 消除 **70%** 代码重复
- ✅ 测试覆盖率提升到 **85%**
- ✅ 减少 **70%** 的 `any` 使用

---

## 🚀 功能开发文档

位于 `功能开发/` 目录：

| 文档 | 说明 | 更新日期 |
|------|------|---------|
| [node-screenshots集成与窗口级截图功能.md](./功能开发/node-screenshots集成与窗口级截图功能.md) | node-screenshots 集成方案 | 2025-10-24 |
| [Windows-connectWindow功能实现.md](./功能开发/Windows-connectWindow功能实现.md) | Windows 窗口连接功能 | 2025-10-24 |
| [Windows截图质量压缩优化.md](./功能开发/Windows截图质量压缩优化.md) | 截图质量优化方案 | 2025-10-24 |
| [替换原生弹窗为shadcn组件.md](./功能开发/替换原生弹窗为shadcn组件.md) | UI 组件升级方案 | 2025-10-24 |

---

## 🐛 问题修复文档

位于 `问题修复/` 目录：

| 文档 | 说明 | 更新日期 |
|------|------|---------|
| [JsonPreview输入渲染冲突问题修复.md](./问题修复/JsonPreview输入渲染冲突问题修复.md) | JsonPreview 渲染冲突修复 | 2025-10-24 |
| [变量语法与环境变量冲突问题修复.md](./问题修复/变量语法与环境变量冲突问题修复.md) | 变量语法冲突修复 | 2025-10-24 |

其他修复文档（根目录）：

| 文档 | 说明 |
|------|------|
| [修复报告-Windows点击位置偏差问题.md](./修复报告-Windows点击位置偏差问题.md) | Windows 点击偏差修复 |
| [Windows-DPI修复完成总结.md](./Windows-DPI修复完成总结.md) | DPI 修复总结 |
| [Windows-DPI修复方案.md](./Windows-DPI修复方案.md) | DPI 修复方案 |
| [Windows点击位置偏差问题分析.md](./Windows点击位置偏差问题分析.md) | 点击偏差问题分析 |

---

## 📝 技术参考文档

### WebSocket 相关

| 文档 | 说明 |
|------|------|
| [WebSocket传值说明.md](./WebSocket传值说明.md) | WebSocket 消息结构和传值规范 |

### FlowAction 相关

| 文档 | 说明 |
|------|------|
| [FlowAction配置化快速参考.md](./FlowAction配置化快速参考.md) | FlowAction 配置快速参考 |
| [FlowAction参数配置快速参考.md](./FlowAction参数配置快速参考.md) | FlowAction 参数配置参考 |

### Windows 相关

| 文档 | 说明 |
|------|------|
| [Windows-DPI快速参考.md](./Windows-DPI快速参考.md) | Windows DPI 处理快速参考 |
| [Windows-DPI调试指南.md](./Windows-DPI调试指南.md) | DPI 问题调试指南 |
| [Windows截图质量快速参考.md](./Windows截图质量快速参考.md) | 截图质量优化参考 |

### 其他技术文档

| 文档 | 说明 |
|------|------|
| [Monorepo使用指南.md](./Monorepo使用指南.md) | Monorepo 项目使用指南 |
| [BIOME_SETUP.md](./BIOME_SETUP.md) | Biome 配置说明 |
| [ACTION_VALIDATION_SYSTEM.md](./ACTION_VALIDATION_SYSTEM.md) | Action 验证系统说明 |
| [REPORT_VIEWER.md](./REPORT_VIEWER.md) | Report 查看器说明 |

---

## 📋 完整重构总结

| 文档 | 说明 |
|------|------|
| [完整重构总结-aiInput修复与FlowAction配置对齐.md](./完整重构总结-aiInput修复与FlowAction配置对齐.md) | aiInput 和 FlowAction 重构总结 |

---

## 🔍 文档搜索指南

### 按主题查找

#### 想了解开发规范？

- ⭐ [开发规范.md](./开发规范.md) - 完整规范
- ⚡ [开发规范-快速参考.md](./开发规范-快速参考.md) - 快速查找

#### 想了解项目架构？

- [架构重构/README.md](./架构重构/README.md) - 架构总览
- [服务层重构方案.md](./架构重构/服务层重构方案.md) - 服务层设计
- [代码对比与迁移指南.md](./架构重构/代码对比与迁移指南.md) - 迁移指南

#### 想了解如何开发新功能？

1. 查看 [开发规范.md](./开发规范.md)
2. 参考 `功能开发/` 目录下的案例文档
3. 参考 [架构重构/README.md](./架构重构/README.md) 了解架构

#### 遇到问题想找解决方案？

1. 查看 `问题修复/` 目录
2. 查看 Windows 相关问题文档
3. 查看技术参考文档

#### 想优化性能？

- [开发规范 - 性能优化规范](./开发规范.md#13-性能优化规范)
- `性能优化/` 目录（即将添加）

#### 想了解 WebSocket 通信？

- [WebSocket传值说明.md](./WebSocket传值说明.md)
- [开发规范 - WebSocket 通信规范](./开发规范.md#7-websocket-通信规范)

#### 想了解测试规范？

- [开发规范 - 测试规范](./开发规范.md#8-测试规范)
- 查看 `apps/server/src/**/__tests__/` 目录下的测试案例

---

## 📝 文档编写指南

### 何时编写文档

✅ **必须编写文档**：

1. **大型重构**：涉及核心架构变更
2. **新功能开发**：独立模块或重要特性
3. **高价值问题修复**：技术难题、罕见问题
4. **性能优化**：显著的性能提升方案

❌ **不需要文档**：

1. 简单的 Bug 修复
2. 代码格式调整
3. 注释更新
4. 依赖升级（无 Breaking Changes）

### 文档分类

新文档应保存到对应的分类目录：

```
docs/
├── 功能开发/          # 新功能开发文档
├── 架构重构/          # 架构重构文档
├── 问题修复/          # Bug 修复文档
├── 性能优化/          # 性能优化文档（即将添加）
└── 开发规范.md        # 开发规范（不要修改）
```

### 文档命名规范

- ✅ **使用中文名称**：准确概括内容
- ✅ **简洁明了**：不超过 20 个汉字
- ✅ **包含关键词**：便于搜索

示例：

- ✅ `服务层重构方案.md`
- ✅ `Windows点击位置偏差问题修复.md`
- ❌ `修复.md`（太简略）
- ❌ `关于服务层架构重构的详细方案和实施步骤以及代码对比.md`（太长）

### 文档模板

查看 [开发规范 - 文档规范](./开发规范.md#9-文档规范) 了解详细的文档模板。

---

## 🔄 文档更新

### 最近更新

- **2025-10-24**: 新增开发规范文档
- **2025-10-24**: 新增开发规范快速参考
- **2025-10-24**: 更新 README 和文档索引

### 文档维护

- 本索引文档由团队共同维护
- 添加新文档后请更新此索引
- 重要文档变更请更新"最近更新"部分

---

## 📞 帮助与支持

### 找不到需要的文档？

1. 查看本索引的"按主题查找"部分
2. 使用文档搜索功能（Cmd/Ctrl + F）
3. 查看项目根目录 [README.md](../README.md)
4. 创建 Issue 寻求帮助

### 发现文档问题？

- 创建 Issue 报告问题
- 直接提交 PR 修复
- 联系项目负责人

### 建议添加新文档？

- 创建 Issue 说明需求
- 遵循文档编写指南自行编写
- 提交 PR 并更新本索引

---

**最后更新**: 2025年10月24日
**索引维护**: 项目团队
